/* ============================================
   DEVICE-SPECIFIC STYLES
   Styles basés sur les classes ajoutées par useDeviceClass()
   ============================================ */

/* ============================================
   MOBILE SPECIFIC
   ============================================ */
body.device-mobile {
  /* Optimisations tactiles */
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  touch-action: manipulation;
}

body.device-mobile .desktop-only {
  display: none !important;
}

body.device-mobile .mobile-only {
  display: block !important;
}

/* Boutons plus grands sur mobile */
body.device-mobile button,
body.device-mobile .action-btn,
body.device-mobile .skill-btn {
  min-height: 48px;
  font-size: 1rem;
}

/* ============================================
   TABLET SPECIFIC
   ============================================ */
body.device-tablet {
  -webkit-tap-highlight-color: transparent;
}

body.device-tablet .tablet-only {
  display: block !important;
}

/* ============================================
   TOUCH DEVICE SPECIFIC
   ============================================ */
body.touch-device {
  /* Désactiver les effets hover qui ne fonctionnent pas bien sur tactile */
  -webkit-tap-highlight-color: rgba(201, 166, 107, 0.2);
}

body.touch-device *:hover {
  /* Les hovers ne devraient pas persister sur tactile */
}

/* Indicateur visuel de touch sur les boutons */
body.touch-device button:active,
body.touch-device .action-btn:active,
body.touch-device .skill-btn:active,
body.touch-device .target-btn:active {
  opacity: 0.8;
  transform: scale(0.98);
}

/* ============================================
   POINTER DEVICE (souris)
   ============================================ */
body.pointer-device {
  cursor: default;
}

body.pointer-device .clickable,
body.pointer-device button,
body.pointer-device [role="button"] {
  cursor: pointer;
}

/* ============================================
   ORIENTATION SPECIFIC
   ============================================ */

/* Portrait */
body.orientation-portrait.device-mobile .combat-arena {
  flex-direction: column;
}

body.orientation-portrait.device-mobile .team-section {
  flex-direction: row;
  flex-wrap: wrap;
}

/* Landscape */
body.orientation-landscape.device-mobile .combat-arena {
  flex-direction: row;
}

body.orientation-landscape.device-mobile .combat-history-panel {
  max-height: 100px;
}

body.orientation-landscape.device-mobile .turn-order {
  display: none;
}

/* ============================================
   HELPER CLASSES
   ============================================ */

/* Visible seulement sur mobile */
.mobile-only {
  display: none !important;
}

/* Visible seulement sur tablette */
.tablet-only {
  display: none !important;
}

/* Visible seulement sur desktop */
.desktop-only {
  display: block;
}

/* Visible seulement sur tactile */
.touch-only {
  display: none !important;
}

body.touch-device .touch-only {
  display: block !important;
}

/* Caché sur tactile */
.pointer-only {
  display: block;
}

body.touch-device .pointer-only {
  display: none !important;
}

/* ============================================
   OPTIMISATIONS PERFORMANCE
   ============================================ */

/* Utiliser GPU pour les éléments animés sur mobile */
body.device-mobile .combat-arena,
body.device-mobile .enemy-portrait,
body.device-mobile .fighter-portrait {
  will-change: transform;
  transform: translateZ(0);
}

/* Réduire la complexité sur mobile */
body.device-mobile .dungeon-map {
  will-change: auto;
}

/* ============================================
   SAFE AREAS (iPhone X et similaires)
   ============================================ */
@supports (padding: env(safe-area-inset-top)) {
  body.device-mobile .app {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
  
  body.device-mobile .turn-order {
    padding-bottom: calc(0.5rem + env(safe-area-inset-bottom));
  }
  
  body.device-mobile .selected-team-panel {
    padding-bottom: calc(0.5rem + env(safe-area-inset-bottom));
  }
}



